import{_ as p,r as e,o,c,a as n,d as s,e as i,b as a}from"./app.f3747adc.js";const l="/vuepress-java/assets/image-20210927090555559.fba7e7e7.png",u="/vuepress-java/assets/image-20210927090604994.c091de06.png",r="/vuepress-java/assets/image-20210927090612540.8a2e9e21.png",k="/vuepress-java/assets/image-20210927092053283.08aad3c8.png",d="/vuepress-java/assets/image-20210927093112281.269ebd43.png",m="/vuepress-java/assets/image-20210927094452556.bf9f5a47.png",v="/vuepress-java/assets/image-20210927100421213.78479aa7.png",g="/vuepress-java/assets/image-20210927100319016.e415e03f.png",b="/vuepress-java/assets/image-20210927104929169.2ba6f7e1.png",h="/vuepress-java/assets/image-20210927105909600.27d3f812.png",y="/vuepress-java/assets/image-20210927111819871.503799a0.png",f="/vuepress-java/assets/image-20210927113014567.82c7dd64.png",q="/vuepress-java/assets/image-20210927113312384.b603706c.png",S="/vuepress-java/assets/image-20210927113632472.4507c1e6.png",R="/vuepress-java/assets/image-20210927114003383.7b634d96.png",_="/vuepress-java/assets/image-20210927143741458.adaf29fd.png",w={},x=a('<h1 id="redis\u57FA\u7840" tabindex="-1"><a class="header-anchor" href="#redis\u57FA\u7840" aria-hidden="true">#</a> Redis\u57FA\u7840</h1><h2 id="\u8BFE\u7A0B\u5185\u5BB9" tabindex="-1"><a class="header-anchor" href="#\u8BFE\u7A0B\u5185\u5BB9" aria-hidden="true">#</a> \u8BFE\u7A0B\u5185\u5BB9</h2><ul><li>Redis\u5165\u95E8</li><li>Redis\u6570\u636E\u7C7B\u578B</li><li>Redis\u5E38\u7528\u547D\u4EE4</li><li>\u5728Java\u4E2D\u64CD\u4F5CRedis</li></ul><h2 id="_1-\u524D\u8A00" tabindex="-1"><a class="header-anchor" href="#_1-\u524D\u8A00" aria-hidden="true">#</a> 1. \u524D\u8A00</h2><h3 id="_1-1-\u4EC0\u4E48\u662Fredis" tabindex="-1"><a class="header-anchor" href="#_1-1-\u4EC0\u4E48\u662Fredis" aria-hidden="true">#</a> 1.1 \u4EC0\u4E48\u662FRedis</h3><p>Redis\u662F\u4E00\u4E2A\u57FA\u4E8E<strong>\u5185\u5B58</strong>\u7684key-value\u7ED3\u6784\u6570\u636E\u5E93\u3002Redis \u662F\u4E92\u8054\u7F51\u6280\u672F\u9886\u57DF\u4F7F\u7528\u6700\u4E3A\u5E7F\u6CDB\u7684\u5B58\u50A8\u4E2D\u95F4\u4EF6\uFF0C\u5B83\u662F\u300C<strong>Re</strong>mote <strong>Di</strong>ctionary <strong>S</strong>ervice\u300D\u7684\u9996\u5B57\u6BCD\u7F29\u5199\uFF0C\u4E5F\u5C31\u662F\u300C\u8FDC\u7A0B\u5B57\u5178\u670D\u52A1\u300D\u3002</p><ul><li>[ ] \u57FA\u4E8E\u5185\u5B58\u5B58\u50A8\uFF0C\u8BFB\u5199\u6027\u80FD\u9AD8</li></ul><p><img src="'+l+'" alt="image-20210927090555559"></p><ul><li>[ ] \u9002\u5408\u5B58\u50A8\u70ED\u70B9\u6570\u636E\uFF08\u70ED\u70B9\u5546\u54C1\u3001\u8D44\u8BAF\u3001\u65B0\u95FB\uFF09</li></ul><p><img src="'+u+'" alt="image-20210927090604994"></p><ul><li>[ ] \u4F01\u4E1A\u5E94\u7528\u5E7F\u6CDB</li></ul><p><img src="'+r+'" alt="image-20210927090612540"></p><h3 id="_1-2-\u4F7F\u7528redis\u80FD\u505A\u4EC0\u4E48" tabindex="-1"><a class="header-anchor" href="#_1-2-\u4F7F\u7528redis\u80FD\u505A\u4EC0\u4E48" aria-hidden="true">#</a> 1.2 \u4F7F\u7528Redis\u80FD\u505A\u4EC0\u4E48</h3><ul><li>\u6570\u636E\u7F13\u5B58</li><li>\u6D88\u606F\u961F\u5217</li><li>\u6CE8\u518C\u4E2D\u5FC3</li><li>\u53D1\u5E03\u8BA2\u9605</li></ul><h2 id="_2-redis\u5165\u95E8" tabindex="-1"><a class="header-anchor" href="#_2-redis\u5165\u95E8" aria-hidden="true">#</a> 2. Redis\u5165\u95E8</h2><h3 id="_2-1-redis\u7B80\u4ECB" tabindex="-1"><a class="header-anchor" href="#_2-1-redis\u7B80\u4ECB" aria-hidden="true">#</a> 2.1 Redis\u7B80\u4ECB</h3><p>Redis is an open source (BSD licensed), in-memory data structure store, used as a database, cache, and message broker. \u7FFB\u8BD1\u4E3A\uFF1ARedis\u662F\u4E00\u4E2A\u5F00\u6E90\u7684\u5185\u5B58\u4E2D\u7684\u6570\u636E\u7ED3\u6784\u5B58\u50A8\u7CFB\u7EDF\uFF0C\u5B83\u53EF\u4EE5\u7528\u4F5C\uFF1A\u6570\u636E\u5E93\u3001\u7F13\u5B58\u548C\u6D88\u606F\u4E2D\u95F4\u4EF6\u3002</p>',17),j={href:"https://redis.io/",target:"_blank",rel:"noopener noreferrer"},T=a('<p>Redis\u662F\u7528C\u8BED\u8A00\u5F00\u53D1\u7684\u4E00\u4E2A\u5F00\u6E90\u7684\u9AD8\u6027\u80FD\u952E\u503C\u5BF9(key-value)\u6570\u636E\u5E93\uFF0C\u5B98\u65B9\u63D0\u4F9B\u7684\u6570\u636E\u662F\u53EF\u4EE5\u8FBE\u5230100000+\u7684QPS\uFF08\u6BCF\u79D2\u5185\u67E5\u8BE2\u6B21\u6570\uFF09\u3002\u5B83\u5B58\u50A8\u7684value\u7C7B\u578B\u6BD4\u8F83\u4E30\u5BCC\uFF0C\u4E5F\u88AB\u79F0\u4E3A\u7ED3\u6784\u5316\u7684NoSql\u6570\u636E\u5E93\u3002</p><p>NoSql\uFF08Not Only SQL\uFF09\uFF0C\u4E0D\u4EC5\u4EC5\u662FSQL\uFF0C\u6CDB\u6307<strong>\u975E\u5173\u7CFB\u578B\u6570\u636E\u5E93</strong>\u3002NoSql\u6570\u636E\u5E93\u5E76\u4E0D\u662F\u8981\u53D6\u4EE3\u5173\u7CFB\u578B\u6570\u636E\u5E93\uFF0C\u800C\u662F\u5173\u7CFB\u578B\u6570\u636E\u5E93\u7684\u8865\u5145\u3002</p><p>\u5173\u7CFB\u578B\u6570\u636E\u5E93(RDBMS)\uFF1A</p><ul><li>Mysql</li><li>Oracle</li><li>DB2</li><li>SQLServer</li></ul><p>\u975E\u5173\u7CFB\u578B\u6570\u636E\u5E93(NoSql)\uFF1A</p><ul><li>Redis</li><li>Mongo db</li><li>MemCached</li></ul><h3 id="_2-2-redis\u4E0B\u8F7D\u4E0E\u5B89\u88C5" tabindex="-1"><a class="header-anchor" href="#_2-2-redis\u4E0B\u8F7D\u4E0E\u5B89\u88C5" aria-hidden="true">#</a> 2.2 Redis\u4E0B\u8F7D\u4E0E\u5B89\u88C5</h3><h4 id="_2-2-1-redis\u4E0B\u8F7D" tabindex="-1"><a class="header-anchor" href="#_2-2-1-redis\u4E0B\u8F7D" aria-hidden="true">#</a> 2.2.1 Redis\u4E0B\u8F7D</h4><p>Redis\u5B89\u88C5\u5305\u5206\u4E3Awindows\u7248\u548CLinux\u7248\uFF1A</p><ul><li>Windows\u7248\u4E0B\u8F7D\u5730\u5740\uFF1Ahttps://github.com/microsoftarchive/redis/releases</li><li>Linux\u7248\u4E0B\u8F7D\u5730\u5740\uFF1A https://download.redis.io/releases/</li></ul><p>\u4E0B\u8F7D\u540E\u5F97\u5230\u4E0B\u9762\u5B89\u88C5\u5305\uFF1A</p><p><img src="'+k+'" alt="image-20210927092053283"></p><h4 id="_2-2-2-redis\u5B89\u88C5" tabindex="-1"><a class="header-anchor" href="#_2-2-2-redis\u5B89\u88C5" aria-hidden="true">#</a> 2.2.2 Redis\u5B89\u88C5</h4><p><strong>1\uFF09\u5728Linux\u4E2D\u5B89\u88C5Redis</strong></p><p>\u5728Linux\u7CFB\u7EDF\u5B89\u88C5Redis\u6B65\u9AA4\uFF1A</p><ol><li>\u5C06Redis\u5B89\u88C5\u5305\u4E0A\u4F20\u5230Linux</li><li>\u89E3\u538B\u5B89\u88C5\u5305\uFF0C\u547D\u4EE4\uFF1A==tar -zxvf redis-4.0.0.tar.gz -C /usr/local==</li><li>\u5B89\u88C5Redis\u7684\u4F9D\u8D56\u73AF\u5883gcc\uFF0C\u547D\u4EE4\uFF1A==yum install gcc-c++==</li><li>\u8FDB\u5165/usr/local/redis-4.0.0\uFF0C\u8FDB\u884C\u7F16\u8BD1\uFF0C\u547D\u4EE4\uFF1A==make==</li><li>\u8FDB\u5165redis\u7684src\u76EE\u5F55\u8FDB\u884C\u5B89\u88C5\uFF0C\u547D\u4EE4\uFF1A==make install==</li></ol><p>\u5B89\u88C5\u540E\u91CD\u70B9\u6587\u4EF6\u8BF4\u660E\uFF1A</p><blockquote><p>/usr/local/redis-4.0.0/src/redis-server\uFF1ARedis\u670D\u52A1\u542F\u52A8\u811A\u672C</p><p>/usr/local/redis-4.0.0/src/redis-cli\uFF1ARedis\u5BA2\u6237\u7AEF\u811A\u672C</p><p>/usr/local/redis-4.0.0/redis.conf\uFF1ARedis\u914D\u7F6E\u6587\u4EF6</p></blockquote><p><strong>2\uFF09\u5728Windows\u4E2D\u5B89\u88C5Redis</strong></p><p>Redis\u7684Windows\u7248\u5C5E\u4E8E\u7EFF\u8272\u8F6F\u4EF6\uFF0C\u76F4\u63A5\u89E3\u538B\u5373\u53EF\u4F7F\u7528\uFF0C\u89E3\u538B\u540E\u76EE\u5F55\u7ED3\u6784\u5982\u4E0B\uFF1A</p><p><img src="'+d+'" alt="image-20210927093112281"></p><h3 id="_2-3-redis\u670D\u52A1\u542F\u52A8\u4E0E\u505C\u6B62" tabindex="-1"><a class="header-anchor" href="#_2-3-redis\u670D\u52A1\u542F\u52A8\u4E0E\u505C\u6B62" aria-hidden="true">#</a> 2.3 Redis\u670D\u52A1\u542F\u52A8\u4E0E\u505C\u6B62</h3><p><strong>1\uFF09Linux\u7CFB\u7EDF\u4E2D\u542F\u52A8\u548C\u505C\u6B62Redis</strong></p><p>\u6267\u884CRedis\u670D\u52A1\u542F\u52A8\u811A\u672C\u6587\u4EF6==redis-server==\uFF1A</p><p><img src="'+m+'" alt="image-20210927094452556"></p><p>\u901A\u8FC7\u542F\u52A8\u65E5\u5FD7\u53EF\u4EE5\u770B\u5230\uFF0CRedis\u9ED8\u8BA4\u7AEF\u53E3\u53F7\u4E3A==6379==\u3002</p><p>==Ctrl + C==\u505C\u6B62Redis\u670D\u52A1</p><p>\u901A\u8FC7==redis-cli==\u53EF\u4EE5\u8FDE\u63A5\u5230\u672C\u5730\u7684Redis\u670D\u52A1\uFF0C\u9ED8\u8BA4\u60C5\u51B5\u4E0B\u4E0D\u9700\u8981\u8BA4\u8BC1\u5373\u53EF\u8FDE\u63A5\u6210\u529F\u3002</p><p>\u9000\u51FA\u5BA2\u6237\u7AEF\u53EF\u4EE5\u8F93\u5165==exit==\u6216\u8005==quit==\u547D\u4EE4\u3002</p><p><strong>2\uFF09Windows\u7CFB\u7EDF\u4E2D\u542F\u52A8\u548C\u505C\u6B62Redis</strong></p><p>Windows\u7CFB\u7EDF\u4E2D\u542F\u52A8Redis\uFF0C\u76F4\u63A5\u53CC\u51FBredis-server.exe\u5373\u53EF\u542F\u52A8Redis\u670D\u52A1\uFF0Credis\u670D\u52A1\u9ED8\u8BA4\u7AEF\u53E3\u53F7\u4E3A6379</p><p><img src="'+v+'" alt="image-20210927100421213"></p><p>==Ctrl + C==\u505C\u6B62Redis\u670D\u52A1</p><p>\u53CC\u51FB==redis-cli.exe==\u5373\u53EF\u542F\u52A8Redis\u5BA2\u6237\u7AEF\uFF0C\u9ED8\u8BA4\u8FDE\u63A5\u7684\u662F\u672C\u5730\u7684Redis\u670D\u52A1\uFF0C\u800C\u4E14\u4E0D\u9700\u8981\u8BA4\u8BC1\u5373\u53EF\u8FDE\u63A5\u6210\u529F\u3002</p><p><img src="'+g+`" alt="image-20210927100319016"></p><p>\u9000\u51FA\u5BA2\u6237\u7AEF\u53EF\u4EE5\u8F93\u5165==exit==\u6216\u8005==quit==\u547D\u4EE4\u3002</p><h3 id="_2-4-redis\u914D\u7F6E\u6587\u4EF6" tabindex="-1"><a class="header-anchor" href="#_2-4-redis\u914D\u7F6E\u6587\u4EF6" aria-hidden="true">#</a> 2.4 Redis\u914D\u7F6E\u6587\u4EF6</h3><p>\u524D\u9762\u6211\u4EEC\u5DF2\u7ECF\u542F\u52A8\u4E86Redis\u670D\u52A1\uFF0C\u9ED8\u8BA4\u60C5\u51B5\u4E0BRedis\u542F\u52A8\u540E\u662F\u5728\u524D\u53F0\u8FD0\u884C\uFF0C\u800C\u4E14\u5BA2\u6237\u7AEF\u4E0D\u9700\u8981\u5BC6\u7801\u5C31\u53EF\u4EE5\u8FDE\u63A5\u5230Redis\u670D\u52A1\u3002\u5982\u679C\u6211\u4EEC\u5E0C\u671BRedis\u670D\u52A1\u542F\u52A8\u540E\u662F\u5728\u540E\u53F0\u8FD0\u884C\uFF0C\u540C\u65F6\u5E0C\u671B\u5BA2\u6237\u7AEF\u8BA4\u8BC1\u901A\u8FC7\u540E\u624D\u80FD\u8FDE\u63A5\u5230Redis\u670D\u52A1\uFF0C\u5E94\u8BE5\u5982\u679C\u505A\u5462\uFF1F</p><p>\u6B64\u65F6\u5C31\u9700\u8981\u4FEE\u6539Redis\u7684\u914D\u7F6E\u6587\u4EF6\uFF1A</p><ul><li>Linux\u7CFB\u7EDF\u4E2DRedis\u914D\u7F6E\u6587\u4EF6\uFF1AREDIS_HOME/redis.conf</li><li>Windows\u7CFB\u7EDF\u4E2DRedis\u914D\u7F6E\u6587\u4EF6\uFF1AREDIS_HOME/redis.windows.conf</li></ul><p><strong>\u901A\u8FC7\u4FEE\u6539Redis\u914D\u7F6E\u6587\u4EF6\u53EF\u4EE5\u8FDB\u884C\u5982\u4E0B\u914D\u7F6E\uFF1A</strong></p><p>**1\uFF09**\u8BBE\u7F6ERedis\u670D\u52A1\u540E\u53F0\u8FD0\u884C</p><p>\u200B \u5C06\u914D\u7F6E\u6587\u4EF6\u4E2D\u7684==daemonize==\u914D\u7F6E\u9879\u6539\u4E3Ayes\uFF0C\u9ED8\u8BA4\u503C\u4E3Ano\u3002</p><p>\u200B \u6CE8\u610F\uFF1AWindows\u7248\u7684Redis\u4E0D\u652F\u6301\u540E\u53F0\u8FD0\u884C\u3002</p><p>**2\uFF09**\u8BBE\u7F6ERedis\u670D\u52A1\u5BC6\u7801</p><p>\u200B \u5C06\u914D\u7F6E\u6587\u4EF6\u4E2D\u7684 ==# requirepass foobared== \u914D\u7F6E\u9879\u53D6\u6D88\u6CE8\u91CA\uFF0C\u9ED8\u8BA4\u4E3A\u6CE8\u91CA\u72B6\u6001\u3002foobared\u4E3A\u5BC6\u7801\uFF0C\u53EF\u4EE5\u6839\u636E\u60C5\u51B5\u81EA\u5DF1\u6307\u5B9A\u3002</p><p>**3\uFF09**\u8BBE\u7F6E\u5141\u8BB8\u5BA2\u6237\u7AEF\u8FDC\u7A0B\u8FDE\u63A5Redis\u670D\u52A1</p><p>\u200B Redis\u670D\u52A1\u9ED8\u8BA4\u53EA\u80FD\u5BA2\u6237\u7AEF\u672C\u5730\u8FDE\u63A5\uFF0C\u4E0D\u5141\u8BB8\u5BA2\u6237\u7AEF\u8FDC\u7A0B\u8FDE\u63A5\u3002\u5C06\u914D\u7F6E\u6587\u4EF6\u4E2D\u7684 ==bind 127.0.0.1== \u914D\u7F6E\u9879\u6CE8\u91CA\u6389\u3002</p><p><strong>\u89E3\u91CA\u8BF4\u660E\uFF1A</strong></p><blockquote><p>Redis\u914D\u7F6E\u6587\u4EF6\u4E2D ==#== \u8868\u793A\u6CE8\u91CA</p><p>Redis\u914D\u7F6E\u6587\u4EF6\u4E2D\u7684\u914D\u7F6E\u9879\u524D\u9762\u4E0D\u80FD\u6709\u7A7A\u683C\uFF0C\u9700\u8981\u9876\u683C\u5199</p><p>daemonize\uFF1A\u7528\u6765\u6307\u5B9Aredis\u662F\u5426\u8981\u7528\u5B88\u62A4\u7EBF\u7A0B\u7684\u65B9\u5F0F\u542F\u52A8\uFF0C\u8BBE\u7F6E\u6210yes\u65F6\uFF0C\u4EE3\u8868\u5F00\u542F\u5B88\u62A4\u8FDB\u7A0B\u6A21\u5F0F\u3002\u5728\u8BE5\u6A21\u5F0F\u4E0B\uFF0Credis\u4F1A\u5728\u540E\u53F0\u8FD0\u884C</p><p>requirepass\uFF1A\u8BBE\u7F6ERedis\u7684\u8FDE\u63A5\u5BC6\u7801</p><p>bind\uFF1A\u5982\u679C\u6307\u5B9A\u4E86bind\uFF0C\u5219\u8BF4\u660E\u53EA\u5141\u8BB8\u6765\u81EA\u6307\u5B9A\u7F51\u5361\u7684Redis\u8BF7\u6C42\u3002\u5982\u679C\u6CA1\u6709\u6307\u5B9A\uFF0C\u5C31\u8BF4\u660E\u53EF\u4EE5\u63A5\u53D7\u6765\u81EA\u4EFB\u610F\u4E00\u4E2A\u7F51\u5361\u7684Redis\u8BF7\u6C42\u3002</p></blockquote><p><strong>\u6CE8\u610F</strong>\uFF1A\u4FEE\u6539\u914D\u7F6E\u6587\u4EF6\u540E\u9700\u8981\u91CD\u542FRedis\u670D\u52A1\u914D\u7F6E\u624D\u80FD\u751F\u6548\uFF0C\u5E76\u4E14\u542F\u52A8Redis\u670D\u52A1\u65F6\u9700\u8981\u663E\u793A\u7684\u6307\u5B9A\u914D\u7F6E\u6587\u4EF6\uFF1A</p><p>1\uFF09Linux\u4E2D\u542F\u52A8Redis\u670D\u52A1</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code># \u8FDB\u5165Redis\u5B89\u88C5\u76EE\u5F55
cd /usr/local/redis-4.0.0
# \u542F\u52A8Redis\u670D\u52A1\uFF0C\u6307\u5B9A\u4F7F\u7528\u7684\u914D\u7F6E\u6587\u4EF6
./src/redis-server ./redis.conf
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>2\uFF09Windows\u4E2D\u542F\u52A8Redis\u670D\u52A1</p><p><img src="`+b+'" alt="image-20210927104929169"></p><p>\u7531\u4E8ERedis\u914D\u7F6E\u6587\u4EF6\u4E2D\u5F00\u542F\u4E86\u8BA4\u8BC1\u6821\u9A8C\uFF0C\u5373\u5BA2\u6237\u7AEF\u8FDE\u63A5\u65F6\u9700\u8981\u63D0\u4F9B\u5BC6\u7801\uFF0C\u6B64\u65F6\u5BA2\u6237\u7AEF\u8FDE\u63A5\u65B9\u5F0F\u53D8\u4E3A\uFF1A</p><p><img src="'+h+'" alt="image-20210927105909600"></p><p><strong>\u89E3\u91CA\u8BF4\u660E\uFF1A</strong></p><blockquote><p>-h\uFF1A\u6307\u5B9A\u8FDE\u63A5\u7684Redis\u670D\u52A1\u7684ip\u5730\u5740</p><p>-p\uFF1A\u6307\u5B9A\u8FDE\u63A5\u7684Redis\u670D\u52A1\u7684\u7AEF\u53E3\u53F7</p><p>-a\uFF1A\u6307\u5B9A\u8FDE\u63A5\u7684Redis\u670D\u52A1\u7684\u5BC6\u7801</p></blockquote><h2 id="_3-redis\u6570\u636E\u7C7B\u578B" tabindex="-1"><a class="header-anchor" href="#_3-redis\u6570\u636E\u7C7B\u578B" aria-hidden="true">#</a> 3. Redis\u6570\u636E\u7C7B\u578B</h2><h3 id="_3-1-\u4ECB\u7ECD" tabindex="-1"><a class="header-anchor" href="#_3-1-\u4ECB\u7ECD" aria-hidden="true">#</a> 3.1 \u4ECB\u7ECD</h3><p>Redis\u5B58\u50A8\u7684\u662Fkey-value\u7ED3\u6784\u7684\u6570\u636E\uFF0C\u5176\u4E2Dkey\u662F\u5B57\u7B26\u4E32\u7C7B\u578B\uFF0Cvalue\u67095\u79CD\u5E38\u7528\u7684\u6570\u636E\u7C7B\u578B\uFF1A</p><ul><li>\u5B57\u7B26\u4E32 string</li><li>\u54C8\u5E0C hash</li><li>\u5217\u8868 list</li><li>\u96C6\u5408 set</li><li>\u6709\u5E8F\u96C6\u5408 sorted set / zset</li></ul><h3 id="_3-2-redis-5\u79CD\u5E38\u7528\u6570\u636E\u7C7B\u578B" tabindex="-1"><a class="header-anchor" href="#_3-2-redis-5\u79CD\u5E38\u7528\u6570\u636E\u7C7B\u578B" aria-hidden="true">#</a> 3.2 Redis 5\u79CD\u5E38\u7528\u6570\u636E\u7C7B\u578B</h3><p><img src="'+y+'" alt="image-20210927111819871"></p><p><strong>\u89E3\u91CA\u8BF4\u660E\uFF1A</strong></p><blockquote><p>\u5B57\u7B26\u4E32(string)\uFF1A\u666E\u901A\u5B57\u7B26\u4E32\uFF0C\u5E38\u7528</p><p>\u54C8\u5E0C(hash)\uFF1A\u9002\u5408\u5B58\u50A8\u5BF9\u8C61</p><p>\u5217\u8868(list)\uFF1A\u6309\u7167\u63D2\u5165\u987A\u5E8F\u6392\u5E8F\uFF0C\u53EF\u4EE5\u6709\u91CD\u590D\u5143\u7D20</p><p>\u96C6\u5408(set)\uFF1A\u65E0\u5E8F\u96C6\u5408\uFF0C\u6CA1\u6709\u91CD\u590D\u5143\u7D20</p><p>\u6709\u5E8F\u96C6\u5408(sorted set / zset)\uFF1A\u96C6\u5408\u4E2D\u6BCF\u4E2A\u5143\u7D20\u5173\u8054\u4E00\u4E2A\u5206\u6570\uFF08score\uFF09\uFF0C\u6839\u636E\u5206\u6570\u5347\u5E8F\u6392\u5E8F\uFF0C\u6CA1\u6709\u91CD\u590D\u5143\u7D20</p></blockquote><h2 id="_4-redis\u5E38\u7528\u547D\u4EE4" tabindex="-1"><a class="header-anchor" href="#_4-redis\u5E38\u7528\u547D\u4EE4" aria-hidden="true">#</a> 4. Redis\u5E38\u7528\u547D\u4EE4</h2><h3 id="_4-1-\u5B57\u7B26\u4E32string\u64CD\u4F5C\u547D\u4EE4" tabindex="-1"><a class="header-anchor" href="#_4-1-\u5B57\u7B26\u4E32string\u64CD\u4F5C\u547D\u4EE4" aria-hidden="true">#</a> 4.1 \u5B57\u7B26\u4E32string\u64CD\u4F5C\u547D\u4EE4</h3><p>Redis \u4E2D\u5B57\u7B26\u4E32\u7C7B\u578B\u5E38\u7528\u547D\u4EE4\uFF1A</p><ul><li><strong>SET</strong> key value \u8BBE\u7F6E\u6307\u5B9Akey\u7684\u503C</li><li><strong>GET</strong> key \u83B7\u53D6\u6307\u5B9Akey\u7684\u503C</li><li><strong>SETEX</strong> key seconds value \u8BBE\u7F6E\u6307\u5B9Akey\u7684\u503C\uFF0C\u5E76\u5C06 key \u7684\u8FC7\u671F\u65F6\u95F4\u8BBE\u4E3A seconds \u79D2</li><li><strong>SETNX</strong> key value \u53EA\u6709\u5728 key \u4E0D\u5B58\u5728\u65F6\u8BBE\u7F6E key \u7684\u503C</li></ul><p>\u66F4\u591A\u547D\u4EE4\u53EF\u4EE5\u53C2\u8003Redis\u4E2D\u6587\u7F51\uFF1Ahttps://www.redis.net.cn</p><h3 id="_4-2-\u54C8\u5E0Chash\u64CD\u4F5C\u547D\u4EE4" tabindex="-1"><a class="header-anchor" href="#_4-2-\u54C8\u5E0Chash\u64CD\u4F5C\u547D\u4EE4" aria-hidden="true">#</a> 4.2 \u54C8\u5E0Chash\u64CD\u4F5C\u547D\u4EE4</h3><p>Redis hash \u662F\u4E00\u4E2Astring\u7C7B\u578B\u7684 field \u548C value \u7684\u6620\u5C04\u8868\uFF0Chash\u7279\u522B\u9002\u5408\u7528\u4E8E\u5B58\u50A8\u5BF9\u8C61\uFF0C\u5E38\u7528\u547D\u4EE4\uFF1A</p><ul><li><strong>HSET</strong> key field value \u5C06\u54C8\u5E0C\u8868 key \u4E2D\u7684\u5B57\u6BB5 field \u7684\u503C\u8BBE\u4E3A value</li><li><strong>HGET</strong> key field \u83B7\u53D6\u5B58\u50A8\u5728\u54C8\u5E0C\u8868\u4E2D\u6307\u5B9A\u5B57\u6BB5\u7684\u503C</li><li><strong>HDEL</strong> key field \u5220\u9664\u5B58\u50A8\u5728\u54C8\u5E0C\u8868\u4E2D\u7684\u6307\u5B9A\u5B57\u6BB5</li><li><strong>HKEYS</strong> key \u83B7\u53D6\u54C8\u5E0C\u8868\u4E2D\u6240\u6709\u5B57\u6BB5</li><li><strong>HVALS</strong> key \u83B7\u53D6\u54C8\u5E0C\u8868\u4E2D\u6240\u6709\u503C</li><li><strong>HGETALL</strong> key \u83B7\u53D6\u5728\u54C8\u5E0C\u8868\u4E2D\u6307\u5B9A key \u7684\u6240\u6709\u5B57\u6BB5\u548C\u503C</li></ul><p><img src="'+f+'" alt="image-20210927113014567"></p><h3 id="_4-3-\u5217\u8868list\u64CD\u4F5C\u547D\u4EE4" tabindex="-1"><a class="header-anchor" href="#_4-3-\u5217\u8868list\u64CD\u4F5C\u547D\u4EE4" aria-hidden="true">#</a> 4.3 \u5217\u8868list\u64CD\u4F5C\u547D\u4EE4</h3><p>Redis \u5217\u8868\u662F\u7B80\u5355\u7684\u5B57\u7B26\u4E32\u5217\u8868\uFF0C\u6309\u7167\u63D2\u5165\u987A\u5E8F\u6392\u5E8F\uFF0C\u5E38\u7528\u547D\u4EE4\uFF1A</p><ul><li><strong>LPUSH</strong> key value1 [value2] \u5C06\u4E00\u4E2A\u6216\u591A\u4E2A\u503C\u63D2\u5165\u5230\u5217\u8868\u5934\u90E8</li><li><strong>LRANGE</strong> key start stop \u83B7\u53D6\u5217\u8868\u6307\u5B9A\u8303\u56F4\u5185\u7684\u5143\u7D20</li><li><strong>RPOP</strong> key \u79FB\u9664\u5E76\u83B7\u53D6\u5217\u8868\u6700\u540E\u4E00\u4E2A\u5143\u7D20</li><li><strong>LLEN</strong> key \u83B7\u53D6\u5217\u8868\u957F\u5EA6</li><li><strong>BRPOP</strong> key1 [key2 ] timeout \u79FB\u51FA\u5E76\u83B7\u53D6\u5217\u8868\u7684\u6700\u540E\u4E00\u4E2A\u5143\u7D20\uFF0C \u5982\u679C\u5217\u8868\u6CA1\u6709\u5143\u7D20\u4F1A\u963B\u585E\u5217\u8868\u76F4\u5230\u7B49\u5F85\u8D85 \u65F6\u6216\u53D1\u73B0\u53EF\u5F39\u51FA\u5143\u7D20\u4E3A\u6B62</li></ul><p><img src="'+q+'" alt="image-20210927113312384"></p><h3 id="_4-4-\u96C6\u5408set\u64CD\u4F5C\u547D\u4EE4" tabindex="-1"><a class="header-anchor" href="#_4-4-\u96C6\u5408set\u64CD\u4F5C\u547D\u4EE4" aria-hidden="true">#</a> 4.4 \u96C6\u5408set\u64CD\u4F5C\u547D\u4EE4</h3><p>Redis set \u662Fstring\u7C7B\u578B\u7684\u65E0\u5E8F\u96C6\u5408\u3002\u96C6\u5408\u6210\u5458\u662F\u552F\u4E00\u7684\uFF0C\u8FD9\u5C31\u610F\u5473\u7740\u96C6\u5408\u4E2D\u4E0D\u80FD\u51FA\u73B0\u91CD\u590D\u7684\u6570\u636E\uFF0C\u5E38\u7528\u547D\u4EE4\uFF1A</p><ul><li><strong>SADD</strong> key member1 [member2] \u5411\u96C6\u5408\u6DFB\u52A0\u4E00\u4E2A\u6216\u591A\u4E2A\u6210\u5458</li><li><strong>SMEMBERS</strong> key \u8FD4\u56DE\u96C6\u5408\u4E2D\u7684\u6240\u6709\u6210\u5458</li><li><strong>SCARD</strong> key \u83B7\u53D6\u96C6\u5408\u7684\u6210\u5458\u6570</li><li><strong>SINTER</strong> key1 [key2] \u8FD4\u56DE\u7ED9\u5B9A\u6240\u6709\u96C6\u5408\u7684\u4EA4\u96C6</li><li><strong>SUNION</strong> key1 [key2] \u8FD4\u56DE\u6240\u6709\u7ED9\u5B9A\u96C6\u5408\u7684\u5E76\u96C6</li><li><strong>SDIFF</strong> key1 [key2] \u8FD4\u56DE\u7ED9\u5B9A\u6240\u6709\u96C6\u5408\u7684\u5DEE\u96C6</li><li><strong>SREM</strong> key member1 [member2] \u79FB\u9664\u96C6\u5408\u4E2D\u4E00\u4E2A\u6216\u591A\u4E2A\u6210\u5458</li></ul><p><img src="'+S+'" alt="image-20210927113632472"></p><h3 id="_4-5-\u6709\u5E8F\u96C6\u5408sorted-set\u64CD\u4F5C\u547D\u4EE4" tabindex="-1"><a class="header-anchor" href="#_4-5-\u6709\u5E8F\u96C6\u5408sorted-set\u64CD\u4F5C\u547D\u4EE4" aria-hidden="true">#</a> 4.5 \u6709\u5E8F\u96C6\u5408sorted set\u64CD\u4F5C\u547D\u4EE4</h3><p>Redis sorted set \u6709\u5E8F\u96C6\u5408\u662F string \u7C7B\u578B\u5143\u7D20\u7684\u96C6\u5408\uFF0C\u4E14\u4E0D\u5141\u8BB8\u91CD\u590D\u7684\u6210\u5458\u3002\u6BCF\u4E2A\u5143\u7D20\u90FD\u4F1A\u5173\u8054\u4E00\u4E2Adouble\u7C7B\u578B\u7684\u5206\u6570(score) \u3002redis\u6B63\u662F\u901A\u8FC7\u5206\u6570\u6765\u4E3A\u96C6\u5408\u4E2D\u7684\u6210\u5458\u8FDB\u884C\u4ECE\u5C0F\u5230\u5927\u6392\u5E8F\u3002\u6709\u5E8F\u96C6\u5408\u7684\u6210\u5458\u662F\u552F\u4E00\u7684\uFF0C\u4F46\u5206\u6570\u5374\u53EF\u4EE5\u91CD\u590D\u3002</p><p>\u5E38\u7528\u547D\u4EE4\uFF1A</p><ul><li><strong>ZADD</strong> key score1 member1 [score2 member2] \u5411\u6709\u5E8F\u96C6\u5408\u6DFB\u52A0\u4E00\u4E2A\u6216\u591A\u4E2A\u6210\u5458\uFF0C\u6216\u8005\u66F4\u65B0\u5DF2\u5B58\u5728\u6210\u5458\u7684 \u5206\u6570</li><li><strong>ZRANGE</strong> key start stop [WITHSCORES] \u901A\u8FC7\u7D22\u5F15\u533A\u95F4\u8FD4\u56DE\u6709\u5E8F\u96C6\u5408\u4E2D\u6307\u5B9A\u533A\u95F4\u5185\u7684\u6210\u5458</li><li><strong>ZINCRBY</strong> key increment member \u6709\u5E8F\u96C6\u5408\u4E2D\u5BF9\u6307\u5B9A\u6210\u5458\u7684\u5206\u6570\u52A0\u4E0A\u589E\u91CF increment</li><li><strong>ZREM</strong> key member [member ...] \u79FB\u9664\u6709\u5E8F\u96C6\u5408\u4E2D\u7684\u4E00\u4E2A\u6216\u591A\u4E2A\u6210\u5458</li></ul><p><img src="'+R+`" alt="image-20210927114003383"></p><h3 id="_4-6-\u901A\u7528\u547D\u4EE4" tabindex="-1"><a class="header-anchor" href="#_4-6-\u901A\u7528\u547D\u4EE4" aria-hidden="true">#</a> 4.6 \u901A\u7528\u547D\u4EE4</h3><p>Redis\u4E2D\u7684\u901A\u7528\u547D\u4EE4\uFF0C\u4E3B\u8981\u662F\u9488\u5BF9key\u8FDB\u884C\u64CD\u4F5C\u7684\u76F8\u5173\u547D\u4EE4\uFF1A</p><ul><li><strong>KEYS</strong> pattern \u67E5\u627E\u6240\u6709\u7B26\u5408\u7ED9\u5B9A\u6A21\u5F0F( pattern)\u7684 key</li><li><strong>EXISTS</strong> key \u68C0\u67E5\u7ED9\u5B9A key \u662F\u5426\u5B58\u5728</li><li><strong>TYPE</strong> key \u8FD4\u56DE key \u6240\u50A8\u5B58\u7684\u503C\u7684\u7C7B\u578B</li><li><strong>TTL</strong> key \u8FD4\u56DE\u7ED9\u5B9A key \u7684\u5269\u4F59\u751F\u5B58\u65F6\u95F4(TTL, time to live)\uFF0C\u4EE5\u79D2\u4E3A\u5355\u4F4D</li><li><strong>DEL</strong> key \u8BE5\u547D\u4EE4\u7528\u4E8E\u5728 key \u5B58\u5728\u662F\u5220\u9664 key</li></ul><h2 id="_5-\u5728java\u4E2D\u64CD\u4F5Credis" tabindex="-1"><a class="header-anchor" href="#_5-\u5728java\u4E2D\u64CD\u4F5Credis" aria-hidden="true">#</a> 5. \u5728Java\u4E2D\u64CD\u4F5CRedis</h2><h3 id="_5-1-\u4ECB\u7ECD" tabindex="-1"><a class="header-anchor" href="#_5-1-\u4ECB\u7ECD" aria-hidden="true">#</a> 5.1 \u4ECB\u7ECD</h3><p>\u524D\u9762\u6211\u4EEC\u8BB2\u89E3\u4E86Redis\u7684\u5E38\u7528\u547D\u4EE4\uFF0C\u8FD9\u4E9B\u547D\u4EE4\u662F\u6211\u4EEC\u64CD\u4F5CRedis\u7684\u57FA\u7840\uFF0C\u90A3\u4E48\u6211\u4EEC\u5728java\u7A0B\u5E8F\u4E2D\u5E94\u8BE5\u5982\u4F55\u64CD\u4F5CRedis\u5462\uFF1F\u8FD9\u5C31\u9700\u8981\u4F7F\u7528Redis\u7684Java\u5BA2\u6237\u7AEF\uFF0C\u5C31\u5982\u540C\u6211\u4EEC\u4F7F\u7528JDBC\u64CD\u4F5CMySQL\u6570\u636E\u5E93\u4E00\u6837\u3002</p><p>Redis \u7684 Java \u5BA2\u6237\u7AEF\u5F88\u591A\uFF0C\u5B98\u65B9\u63A8\u8350\u7684\u6709\u4E09\u79CD\uFF1A</p><ul><li>Jedis</li><li>Lettuce</li><li>Redisson</li></ul><p>Spring \u5BF9 Redis \u5BA2\u6237\u7AEF\u8FDB\u884C\u4E86\u6574\u5408\uFF0C\u63D0\u4F9B\u4E86 Spring Data Redis\uFF0C\u5728Spring Boot\u9879\u76EE\u4E2D\u8FD8\u63D0\u4F9B\u4E86\u5BF9\u5E94\u7684Starter\uFF0C\u5373 spring-boot-starter-data-redis\u3002</p><h3 id="_5-2-jedis" tabindex="-1"><a class="header-anchor" href="#_5-2-jedis" aria-hidden="true">#</a> 5.2 Jedis</h3><p>Jedis \u662F Redis \u7684 Java \u7248\u672C\u7684\u5BA2\u6237\u7AEF\u5B9E\u73B0\u3002</p><p>maven\u5750\u6807\uFF1A</p><div class="language-xml ext-xml line-numbers-mode"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>redis.clients<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>jedis<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>2.8.0<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u4F7F\u7528 Jedis \u64CD\u4F5C Redis \u7684\u6B65\u9AA4\uFF1A</p><ol><li>\u83B7\u53D6\u8FDE\u63A5</li><li>\u6267\u884C\u64CD\u4F5C</li><li>\u5173\u95ED\u8FDE\u63A5</li></ol><p>\u793A\u4F8B\u4EE3\u7801\uFF1A</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>itheima<span class="token punctuation">.</span>test</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>junit<span class="token punctuation">.</span></span><span class="token class-name">Test</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">redis<span class="token punctuation">.</span>clients<span class="token punctuation">.</span>jedis<span class="token punctuation">.</span></span><span class="token class-name">Jedis</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">Set</span></span><span class="token punctuation">;</span>

<span class="token doc-comment comment">/**
 * \u4F7F\u7528Jedis\u64CD\u4F5CRedis
 */</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">JedisTest</span> <span class="token punctuation">{</span>

    <span class="token annotation punctuation">@Test</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">testRedis</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token comment">//1 \u83B7\u53D6\u8FDE\u63A5</span>
        <span class="token class-name">Jedis</span> jedis <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Jedis</span><span class="token punctuation">(</span><span class="token string">&quot;localhost&quot;</span><span class="token punctuation">,</span><span class="token number">6379</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        
        <span class="token comment">//2 \u6267\u884C\u5177\u4F53\u7684\u64CD\u4F5C</span>
        jedis<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">&quot;username&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;xiaoming&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token class-name">String</span> value <span class="token operator">=</span> jedis<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">&quot;username&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">//jedis.del(&quot;username&quot;);</span>

        jedis<span class="token punctuation">.</span><span class="token function">hset</span><span class="token punctuation">(</span><span class="token string">&quot;myhash&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;addr&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;bj&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">String</span> hValue <span class="token operator">=</span> jedis<span class="token punctuation">.</span><span class="token function">hget</span><span class="token punctuation">(</span><span class="token string">&quot;myhash&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;addr&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>hValue<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token class-name">Set</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> keys <span class="token operator">=</span> jedis<span class="token punctuation">.</span><span class="token function">keys</span><span class="token punctuation">(</span><span class="token string">&quot;*&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">String</span> key <span class="token operator">:</span> keys<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token comment">//3 \u5173\u95ED\u8FDE\u63A5</span>
        jedis<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_5-3-spring-data-redis" tabindex="-1"><a class="header-anchor" href="#_5-3-spring-data-redis" aria-hidden="true">#</a> 5.3 Spring Data Redis</h3><h4 id="_5-3-1-\u4ECB\u7ECD" tabindex="-1"><a class="header-anchor" href="#_5-3-1-\u4ECB\u7ECD" aria-hidden="true">#</a> 5.3.1 \u4ECB\u7ECD</h4><p>Spring Data Redis \u662F Spring \u7684\u4E00\u90E8\u5206\uFF0C\u63D0\u4F9B\u4E86\u5728 Spring \u5E94\u7528\u4E2D\u901A\u8FC7\u7B80\u5355\u7684\u914D\u7F6E\u5C31\u53EF\u4EE5\u8BBF\u95EE Redis \u670D\u52A1\uFF0C\u5BF9 Redis \u5E95\u5C42\u5F00\u53D1\u5305\u8FDB\u884C\u4E86\u9AD8\u5EA6\u5C01\u88C5\u3002\u5728 Spring \u9879\u76EE\u4E2D\uFF0C\u53EF\u4EE5\u4F7F\u7528Spring Data Redis\u6765\u7B80\u5316 Redis \u64CD\u4F5C\u3002</p><p>\u7F51\u5740\uFF1Ahttps://spring.io/projects/spring-data-redis</p><p><img src="`+_+`" alt="image-20210927143741458"></p><p>maven\u5750\u6807\uFF1A</p><div class="language-xml ext-xml line-numbers-mode"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.springframework.data<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>spring-data-redis<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>2.4.8<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Spring Boot\u63D0\u4F9B\u4E86\u5BF9\u5E94\u7684Starter\uFF0Cmaven\u5750\u6807\uFF1A</p><div class="language-xml ext-xml line-numbers-mode"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>spring-boot-starter-data-redis<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Spring Data Redis\u4E2D\u63D0\u4F9B\u4E86\u4E00\u4E2A\u9AD8\u5EA6\u5C01\u88C5\u7684\u7C7B\uFF1A<strong>RedisTemplate</strong>\uFF0C\u9488\u5BF9 Jedis \u5BA2\u6237\u7AEF\u4E2D\u5927\u91CFapi\u8FDB\u884C\u4E86\u5F52\u7C7B\u5C01\u88C5,\u5C06\u540C\u4E00\u7C7B\u578B\u64CD\u4F5C\u5C01\u88C5\u4E3Aoperation\u63A5\u53E3\uFF0C\u5177\u4F53\u5206\u7C7B\u5982\u4E0B\uFF1A</p><ul><li>ValueOperations\uFF1A\u7B80\u5355K-V\u64CD\u4F5C</li><li>SetOperations\uFF1Aset\u7C7B\u578B\u6570\u636E\u64CD\u4F5C</li><li>ZSetOperations\uFF1Azset\u7C7B\u578B\u6570\u636E\u64CD\u4F5C</li><li>HashOperations\uFF1A\u9488\u5BF9hash\u7C7B\u578B\u7684\u6570\u636E\u64CD\u4F5C</li><li>ListOperations\uFF1A\u9488\u5BF9list\u7C7B\u578B\u7684\u6570\u636E\u64CD\u4F5C</li></ul><h4 id="_5-3-2-\u4F7F\u7528\u65B9\u5F0F" tabindex="-1"><a class="header-anchor" href="#_5-3-2-\u4F7F\u7528\u65B9\u5F0F" aria-hidden="true">#</a> 5.3.2 \u4F7F\u7528\u65B9\u5F0F</h4><h5 id="_5-3-2-1-\u73AF\u5883\u642D\u5EFA" tabindex="-1"><a class="header-anchor" href="#_5-3-2-1-\u73AF\u5883\u642D\u5EFA" aria-hidden="true">#</a> 5.3.2.1 \u73AF\u5883\u642D\u5EFA</h5><p>\u7B2C\u4E00\u6B65\uFF1A\u521B\u5EFAmaven\u9879\u76EEspringdataredis_demo\uFF0C\u914D\u7F6Epom.xml\u6587\u4EF6</p><div class="language-xml ext-xml line-numbers-mode"><pre class="language-xml"><code><span class="token prolog">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>project</span> <span class="token attr-name">xmlns</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://maven.apache.org/POM/4.0.0<span class="token punctuation">&quot;</span></span>
         <span class="token attr-name"><span class="token namespace">xmlns:</span>xsi</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://www.w3.org/2001/XMLSchema-instance<span class="token punctuation">&quot;</span></span>
         <span class="token attr-name"><span class="token namespace">xsi:</span>schemaLocation</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>modelVersion</span><span class="token punctuation">&gt;</span></span>4.0.0<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>modelVersion</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>parent</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>spring-boot-starter-parent<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>2.4.5<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>relativePath</span><span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>parent</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>com.itheima<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>springdataredis_demo<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>1.0-SNAPSHOT<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>properties</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>java.version</span><span class="token punctuation">&gt;</span></span>1.8<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>java.version</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>properties</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependencies</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>spring-boot-starter-test<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>scope</span><span class="token punctuation">&gt;</span></span>test<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>scope</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>junit<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>junit<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>spring-boot-starter-data-redis<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependencies</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>build</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>plugins</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>plugin</span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>spring-boot-maven-plugin<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>2.4.5<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>plugin</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>plugins</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>build</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>project</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u7B2C\u4E8C\u6B65\uFF1A\u7F16\u5199\u542F\u52A8\u7C7B</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>itheima</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>boot<span class="token punctuation">.</span></span><span class="token class-name">SpringApplication</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>boot<span class="token punctuation">.</span>autoconfigure<span class="token punctuation">.</span></span><span class="token class-name">SpringBootApplication</span></span><span class="token punctuation">;</span>

<span class="token annotation punctuation">@SpringBootApplication</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">App</span> <span class="token punctuation">{</span>

    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">SpringApplication</span><span class="token punctuation">.</span><span class="token function">run</span><span class="token punctuation">(</span><span class="token class-name">App</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">,</span>args<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u7B2C\u4E09\u6B65\uFF1A\u914D\u7F6Eapplication.yml</p><div class="language-yaml ext-yml line-numbers-mode"><pre class="language-yaml"><code><span class="token key atrule">spring</span><span class="token punctuation">:</span>
  <span class="token key atrule">application</span><span class="token punctuation">:</span>
    <span class="token key atrule">name</span><span class="token punctuation">:</span> springdataredis_demo
  <span class="token comment">#Redis\u76F8\u5173\u914D\u7F6E</span>
  <span class="token key atrule">redis</span><span class="token punctuation">:</span>
    <span class="token key atrule">host</span><span class="token punctuation">:</span> localhost
    <span class="token key atrule">port</span><span class="token punctuation">:</span> <span class="token number">6379</span>
    <span class="token comment">#password: 123456</span>
    <span class="token key atrule">database</span><span class="token punctuation">:</span> <span class="token number">0</span> <span class="token comment">#\u64CD\u4F5C\u7684\u662F0\u53F7\u6570\u636E\u5E93</span>
    <span class="token key atrule">jedis</span><span class="token punctuation">:</span>
      <span class="token comment">#Redis\u8FDE\u63A5\u6C60\u914D\u7F6E</span>
      <span class="token key atrule">pool</span><span class="token punctuation">:</span>
        <span class="token key atrule">max-active</span><span class="token punctuation">:</span> <span class="token number">8</span> <span class="token comment">#\u6700\u5927\u8FDE\u63A5\u6570</span>
        <span class="token key atrule">max-wait</span><span class="token punctuation">:</span> 1ms <span class="token comment">#\u8FDE\u63A5\u6C60\u6700\u5927\u963B\u585E\u7B49\u5F85\u65F6\u95F4</span>
        <span class="token key atrule">max-idle</span><span class="token punctuation">:</span> <span class="token number">4</span> <span class="token comment">#\u8FDE\u63A5\u6C60\u4E2D\u7684\u6700\u5927\u7A7A\u95F2\u8FDE\u63A5</span>
        <span class="token key atrule">min-idle</span><span class="token punctuation">:</span> <span class="token number">0</span> <span class="token comment">#\u8FDE\u63A5\u6C60\u4E2D\u7684\u6700\u5C0F\u7A7A\u95F2\u8FDE\u63A5</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u89E3\u91CA\u8BF4\u660E\uFF1A</p><blockquote><p>spring.redis.database\uFF1A\u6307\u5B9A\u4F7F\u7528Redis\u7684\u54EA\u4E2A\u6570\u636E\u5E93\uFF0CRedis\u670D\u52A1\u542F\u52A8\u540E\u9ED8\u8BA4\u670916\u4E2A\u6570\u636E\u5E93\uFF0C\u7F16\u53F7\u5206\u522B\u662F\u4ECE0\u523015\u3002</p><p>\u53EF\u4EE5\u901A\u8FC7\u4FEE\u6539Redis\u914D\u7F6E\u6587\u4EF6\u6765\u6307\u5B9A\u6570\u636E\u5E93\u7684\u6570\u91CF\u3002</p></blockquote><p>\u7B2C\u56DB\u6B65\uFF1A\u63D0\u4F9B\u914D\u7F6E\u7C7B</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>itheima<span class="token punctuation">.</span>config</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>cache<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">CachingConfigurerSupport</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>context<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">Bean</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>context<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">Configuration</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>data<span class="token punctuation">.</span>redis<span class="token punctuation">.</span>connection<span class="token punctuation">.</span></span><span class="token class-name">RedisConnectionFactory</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>data<span class="token punctuation">.</span>redis<span class="token punctuation">.</span>core<span class="token punctuation">.</span></span><span class="token class-name">RedisTemplate</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>data<span class="token punctuation">.</span>redis<span class="token punctuation">.</span>serializer<span class="token punctuation">.</span></span><span class="token class-name">StringRedisSerializer</span></span><span class="token punctuation">;</span>

<span class="token doc-comment comment">/**
 * Redis\u914D\u7F6E\u7C7B
 */</span>
<span class="token annotation punctuation">@Configuration</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">RedisConfig</span> <span class="token keyword">extends</span> <span class="token class-name">CachingConfigurerSupport</span> <span class="token punctuation">{</span>

    <span class="token annotation punctuation">@Bean</span>
    <span class="token keyword">public</span> <span class="token class-name">RedisTemplate</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Object</span><span class="token punctuation">,</span> <span class="token class-name">Object</span><span class="token punctuation">&gt;</span></span> <span class="token function">redisTemplate</span><span class="token punctuation">(</span><span class="token class-name">RedisConnectionFactory</span> connectionFactory<span class="token punctuation">)</span> <span class="token punctuation">{</span>

        <span class="token class-name">RedisTemplate</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Object</span><span class="token punctuation">,</span> <span class="token class-name">Object</span><span class="token punctuation">&gt;</span></span> redisTemplate <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">RedisTemplate</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">//\u9ED8\u8BA4\u7684Key\u5E8F\u5217\u5316\u5668\u4E3A\uFF1AJdkSerializationRedisSerializer</span>
        redisTemplate<span class="token punctuation">.</span><span class="token function">setKeySerializer</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">StringRedisSerializer</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        redisTemplate<span class="token punctuation">.</span><span class="token function">setHashKeySerializer</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">StringRedisSerializer</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        redisTemplate<span class="token punctuation">.</span><span class="token function">setConnectionFactory</span><span class="token punctuation">(</span>connectionFactory<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword">return</span> redisTemplate<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u89E3\u91CA\u8BF4\u660E\uFF1A</p><blockquote><p>\u5F53\u524D\u914D\u7F6E\u7C7B\u4E0D\u662F\u5FC5\u987B\u7684\uFF0C\u56E0\u4E3A Spring Boot \u6846\u67B6\u4F1A\u81EA\u52A8\u88C5\u914D RedisTemplate \u5BF9\u8C61\uFF0C\u4F46\u662F\u9ED8\u8BA4\u7684key\u5E8F\u5217\u5316\u5668\u4E3AJdkSerializationRedisSerializer\uFF0C\u5BFC\u81F4\u6211\u4EEC\u5B58\u5230Redis\u4E2D\u540E\u7684\u6570\u636E\u548C\u539F\u59CB\u6570\u636E\u6709\u5DEE\u522B</p></blockquote><p>\u7B2C\u4E94\u6B65\uFF1A\u63D0\u4F9B\u6D4B\u8BD5\u7C7B</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>itheima<span class="token punctuation">.</span>test</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>junit<span class="token punctuation">.</span>runner<span class="token punctuation">.</span></span><span class="token class-name">RunWith</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>beans<span class="token punctuation">.</span>factory<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">Autowired</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>boot<span class="token punctuation">.</span>test<span class="token punctuation">.</span>context<span class="token punctuation">.</span></span><span class="token class-name">SpringBootTest</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>test<span class="token punctuation">.</span>context<span class="token punctuation">.</span>junit4<span class="token punctuation">.</span></span><span class="token class-name">SpringRunner</span></span><span class="token punctuation">;</span>

<span class="token annotation punctuation">@SpringBootTest</span>
<span class="token annotation punctuation">@RunWith</span><span class="token punctuation">(</span><span class="token class-name">SpringRunner</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">SpringDataRedisTest</span> <span class="token punctuation">{</span>

    <span class="token annotation punctuation">@Autowired</span>
    <span class="token keyword">private</span> <span class="token class-name">RedisTemplate</span> redisTemplate<span class="token punctuation">;</span>
    
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h5 id="_5-3-2-2-\u64CD\u4F5C\u5B57\u7B26\u4E32\u7C7B\u578B\u6570\u636E" tabindex="-1"><a class="header-anchor" href="#_5-3-2-2-\u64CD\u4F5C\u5B57\u7B26\u4E32\u7C7B\u578B\u6570\u636E" aria-hidden="true">#</a> 5.3.2.2 \u64CD\u4F5C\u5B57\u7B26\u4E32\u7C7B\u578B\u6570\u636E</h5><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token doc-comment comment">/**
 * \u64CD\u4F5CString\u7C7B\u578B\u6570\u636E
*/</span>
<span class="token annotation punctuation">@Test</span>
<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">testString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token comment">//\u5B58\u503C</span>
    redisTemplate<span class="token punctuation">.</span><span class="token function">opsForValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">&quot;city123&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;beijing&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">//\u53D6\u503C</span>
    <span class="token class-name">String</span> value <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">)</span> redisTemplate<span class="token punctuation">.</span><span class="token function">opsForValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">&quot;city123&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">//\u5B58\u503C\uFF0C\u540C\u65F6\u8BBE\u7F6E\u8FC7\u671F\u65F6\u95F4</span>
    redisTemplate<span class="token punctuation">.</span><span class="token function">opsForValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">&quot;key1&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;value1&quot;</span><span class="token punctuation">,</span><span class="token number">10l</span><span class="token punctuation">,</span> <span class="token class-name">TimeUnit</span><span class="token punctuation">.</span><span class="token constant">SECONDS</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">//\u5B58\u503C\uFF0C\u5982\u679C\u5B58\u5728\u5219\u4E0D\u6267\u884C\u4EFB\u4F55\u64CD\u4F5C</span>
    <span class="token class-name">Boolean</span> aBoolean <span class="token operator">=</span> redisTemplate<span class="token punctuation">.</span><span class="token function">opsForValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">setIfAbsent</span><span class="token punctuation">(</span><span class="token string">&quot;city1234&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;nanjing&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>aBoolean<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h5 id="_5-3-2-3-\u64CD\u4F5C\u54C8\u5E0C\u7C7B\u578B\u6570\u636E" tabindex="-1"><a class="header-anchor" href="#_5-3-2-3-\u64CD\u4F5C\u54C8\u5E0C\u7C7B\u578B\u6570\u636E" aria-hidden="true">#</a> 5.3.2.3 \u64CD\u4F5C\u54C8\u5E0C\u7C7B\u578B\u6570\u636E</h5><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token doc-comment comment">/**
 * \u64CD\u4F5CHash\u7C7B\u578B\u6570\u636E
*/</span>
<span class="token annotation punctuation">@Test</span>
<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">testHash</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token class-name">HashOperations</span> hashOperations <span class="token operator">=</span> redisTemplate<span class="token punctuation">.</span><span class="token function">opsForHash</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">//\u5B58\u503C</span>
    hashOperations<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">&quot;002&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;name&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;xiaoming&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    hashOperations<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">&quot;002&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;age&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;20&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    hashOperations<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">&quot;002&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;address&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;bj&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">//\u53D6\u503C</span>
    <span class="token class-name">String</span> age <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">)</span> hashOperations<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">&quot;002&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;age&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>age<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">//\u83B7\u5F97hash\u7ED3\u6784\u4E2D\u7684\u6240\u6709\u5B57\u6BB5</span>
    <span class="token class-name">Set</span> keys <span class="token operator">=</span> hashOperations<span class="token punctuation">.</span><span class="token function">keys</span><span class="token punctuation">(</span><span class="token string">&quot;002&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">Object</span> key <span class="token operator">:</span> keys<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">//\u83B7\u5F97hash\u7ED3\u6784\u4E2D\u7684\u6240\u6709\u503C</span>
    <span class="token class-name">List</span> values <span class="token operator">=</span> hashOperations<span class="token punctuation">.</span><span class="token function">values</span><span class="token punctuation">(</span><span class="token string">&quot;002&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">Object</span> value <span class="token operator">:</span> values<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h5 id="_5-3-2-4-\u64CD\u4F5C\u5217\u8868\u7C7B\u578B\u6570\u636E" tabindex="-1"><a class="header-anchor" href="#_5-3-2-4-\u64CD\u4F5C\u5217\u8868\u7C7B\u578B\u6570\u636E" aria-hidden="true">#</a> 5.3.2.4 \u64CD\u4F5C\u5217\u8868\u7C7B\u578B\u6570\u636E</h5><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token doc-comment comment">/**
 * \u64CD\u4F5CList\u7C7B\u578B\u7684\u6570\u636E
*/</span>
<span class="token annotation punctuation">@Test</span>
<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">testList</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token class-name">ListOperations</span> listOperations <span class="token operator">=</span> redisTemplate<span class="token punctuation">.</span><span class="token function">opsForList</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">//\u5B58\u503C</span>
    listOperations<span class="token punctuation">.</span><span class="token function">leftPush</span><span class="token punctuation">(</span><span class="token string">&quot;mylist&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;a&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    listOperations<span class="token punctuation">.</span><span class="token function">leftPushAll</span><span class="token punctuation">(</span><span class="token string">&quot;mylist&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;b&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;c&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;d&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">//\u53D6\u503C</span>
    <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> mylist <span class="token operator">=</span> listOperations<span class="token punctuation">.</span><span class="token function">range</span><span class="token punctuation">(</span><span class="token string">&quot;mylist&quot;</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">String</span> value <span class="token operator">:</span> mylist<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">//\u83B7\u5F97\u5217\u8868\u957F\u5EA6 llen</span>
    <span class="token class-name">Long</span> size <span class="token operator">=</span> listOperations<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token string">&quot;mylist&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">int</span> lSize <span class="token operator">=</span> size<span class="token punctuation">.</span><span class="token function">intValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> lSize<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">//\u51FA\u961F\u5217</span>
        <span class="token class-name">String</span> element <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">)</span> listOperations<span class="token punctuation">.</span><span class="token function">rightPop</span><span class="token punctuation">(</span><span class="token string">&quot;mylist&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>element<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h5 id="_5-3-2-5-\u64CD\u4F5C\u96C6\u5408\u7C7B\u578B\u6570\u636E" tabindex="-1"><a class="header-anchor" href="#_5-3-2-5-\u64CD\u4F5C\u96C6\u5408\u7C7B\u578B\u6570\u636E" aria-hidden="true">#</a> 5.3.2.5 \u64CD\u4F5C\u96C6\u5408\u7C7B\u578B\u6570\u636E</h5><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token doc-comment comment">/**
 * \u64CD\u4F5CSet\u7C7B\u578B\u7684\u6570\u636E
*/</span>
<span class="token annotation punctuation">@Test</span>
<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">testSet</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token class-name">SetOperations</span> setOperations <span class="token operator">=</span> redisTemplate<span class="token punctuation">.</span><span class="token function">opsForSet</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">//\u5B58\u503C</span>
    setOperations<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">&quot;myset&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;a&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;b&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;c&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;a&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">//\u53D6\u503C</span>
    <span class="token class-name">Set</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> myset <span class="token operator">=</span> setOperations<span class="token punctuation">.</span><span class="token function">members</span><span class="token punctuation">(</span><span class="token string">&quot;myset&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">String</span> o <span class="token operator">:</span> myset<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>o<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">//\u5220\u9664\u6210\u5458</span>
    setOperations<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span><span class="token string">&quot;myset&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;a&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;b&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">//\u53D6\u503C</span>
    myset <span class="token operator">=</span> setOperations<span class="token punctuation">.</span><span class="token function">members</span><span class="token punctuation">(</span><span class="token string">&quot;myset&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">String</span> o <span class="token operator">:</span> myset<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>o<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h5 id="_5-3-2-6-\u64CD\u4F5C\u6709\u5E8F\u96C6\u5408\u7C7B\u578B\u6570\u636E" tabindex="-1"><a class="header-anchor" href="#_5-3-2-6-\u64CD\u4F5C\u6709\u5E8F\u96C6\u5408\u7C7B\u578B\u6570\u636E" aria-hidden="true">#</a> 5.3.2.6 \u64CD\u4F5C\u6709\u5E8F\u96C6\u5408\u7C7B\u578B\u6570\u636E</h5><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token doc-comment comment">/**
 * \u64CD\u4F5CZSet\u7C7B\u578B\u7684\u6570\u636E
*/</span>
<span class="token annotation punctuation">@Test</span>
<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">testZset</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token class-name">ZSetOperations</span> zSetOperations <span class="token operator">=</span> redisTemplate<span class="token punctuation">.</span><span class="token function">opsForZSet</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">//\u5B58\u503C</span>
    zSetOperations<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">&quot;myZset&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;a&quot;</span><span class="token punctuation">,</span><span class="token number">10.0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    zSetOperations<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">&quot;myZset&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;b&quot;</span><span class="token punctuation">,</span><span class="token number">11.0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    zSetOperations<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">&quot;myZset&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;c&quot;</span><span class="token punctuation">,</span><span class="token number">12.0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    zSetOperations<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">&quot;myZset&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;a&quot;</span><span class="token punctuation">,</span><span class="token number">13.0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">//\u53D6\u503C</span>
    <span class="token class-name">Set</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> myZset <span class="token operator">=</span> zSetOperations<span class="token punctuation">.</span><span class="token function">range</span><span class="token punctuation">(</span><span class="token string">&quot;myZset&quot;</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">String</span> s <span class="token operator">:</span> myZset<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">//\u4FEE\u6539\u5206\u6570</span>
    zSetOperations<span class="token punctuation">.</span><span class="token function">incrementScore</span><span class="token punctuation">(</span><span class="token string">&quot;myZset&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;b&quot;</span><span class="token punctuation">,</span><span class="token number">20.0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">//\u53D6\u503C</span>
    myZset <span class="token operator">=</span> zSetOperations<span class="token punctuation">.</span><span class="token function">range</span><span class="token punctuation">(</span><span class="token string">&quot;myZset&quot;</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">String</span> s <span class="token operator">:</span> myZset<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">//\u5220\u9664\u6210\u5458</span>
    zSetOperations<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span><span class="token string">&quot;myZset&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;a&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;b&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">//\u53D6\u503C</span>
    myZset <span class="token operator">=</span> zSetOperations<span class="token punctuation">.</span><span class="token function">range</span><span class="token punctuation">(</span><span class="token string">&quot;myZset&quot;</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">String</span> s <span class="token operator">:</span> myZset<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h5 id="_5-3-2-7-\u901A\u7528\u64CD\u4F5C" tabindex="-1"><a class="header-anchor" href="#_5-3-2-7-\u901A\u7528\u64CD\u4F5C" aria-hidden="true">#</a> 5.3.2.7 \u901A\u7528\u64CD\u4F5C</h5><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token doc-comment comment">/**
 * \u901A\u7528\u64CD\u4F5C\uFF0C\u9488\u5BF9\u4E0D\u540C\u7684\u6570\u636E\u7C7B\u578B\u90FD\u53EF\u4EE5\u64CD\u4F5C
*/</span>
<span class="token annotation punctuation">@Test</span>
<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">testCommon</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token comment">//\u83B7\u53D6Redis\u4E2D\u6240\u6709\u7684key</span>
    <span class="token class-name">Set</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> keys <span class="token operator">=</span> redisTemplate<span class="token punctuation">.</span><span class="token function">keys</span><span class="token punctuation">(</span><span class="token string">&quot;*&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">String</span> key <span class="token operator">:</span> keys<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">//\u5224\u65AD\u67D0\u4E2Akey\u662F\u5426\u5B58\u5728</span>
    <span class="token class-name">Boolean</span> itcast <span class="token operator">=</span> redisTemplate<span class="token punctuation">.</span><span class="token function">hasKey</span><span class="token punctuation">(</span><span class="token string">&quot;itcast&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>itcast<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">//\u5220\u9664\u6307\u5B9Akey</span>
    redisTemplate<span class="token punctuation">.</span><span class="token function">delete</span><span class="token punctuation">(</span><span class="token string">&quot;myZset&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">//\u83B7\u53D6\u6307\u5B9Akey\u5BF9\u5E94\u7684value\u7684\u6570\u636E\u7C7B\u578B</span>
    <span class="token class-name">DataType</span> dataType <span class="token operator">=</span> redisTemplate<span class="token punctuation">.</span><span class="token function">type</span><span class="token punctuation">(</span><span class="token string">&quot;myset&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>dataType<span class="token punctuation">.</span><span class="token function">name</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,145);function O(I,L){const t=e("ExternalLinkIcon");return o(),c("div",null,[x,n("p",null,[s("\u5B98\u7F51\uFF1A"),n("a",j,[s("https://redis.io"),i(t)])]),T])}const E=p(w,[["render",O],["__file","Redis\u57FA\u7840\u8BFE\u7A0B\u8BB2\u4E49.html.vue"]]);export{E as default};
